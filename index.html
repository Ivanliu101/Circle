<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CircleOS v1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#9333EA', // Purple
                        secondary: '#EC4899', // Pink
                        accent: '#F472B6', // Light pink
                        dark: '#1F2937',
                        light: '#FFFFFF',
                        background: '#F9FAFB'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif']
                    },
                    animation: {
                        'bounce-slow': 'bounce 3s infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite'
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' }
                        }
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .glass {
                background: rgba(255, 255, 255, 0.1);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.2);
            }
            .glass-dark {
                background: rgba(31, 41, 55, 0.8);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.1);
            }
            .text-gradient {
                background: linear-gradient(135deg, #8B5CF6, #EC4899);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }
            .bg-gradient-primary {
                background: linear-gradient(135deg, #8B5CF6, #EC4899);
            }
            .border-gradient {
                border-image: linear-gradient(135deg, #8B5CF6, #EC4899) 1;
            }
            .app-shadow {
                box-shadow: 0 10px 25px -5px rgba(139, 92, 246, 0.1), 0 8px 10px -6px rgba(139, 92, 246, 0.1);
            }
            .app-shadow-hover {
                box-shadow: 0 20px 25px -5px rgba(139, 92, 246, 0.2), 0 10px 10px -5px rgba(139, 92, 246, 0.1);
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-50 via-pink-50 to-white min-h-screen text-gray-800 overflow-x-hidden">
<!-- Loading Screen -->
<div id="loading-screen" class="fixed inset-0 z-50 flex flex-col items-center justify-center bg-gradient-to-br from-purple-50 via-pink-50 to-white">
    <div class="w-24 h-24 border-4 border-primary border-t-transparent rounded-full animate-spin mb-6"></div>
    <h1 class="text-3xl font-bold text-gradient mb-2">CircleOS</h1>
    <p class="text-gray-600 text-lg">Loading v1.0...</p>
    <div class="mt-8 w-64 h-2 bg-gray-800 rounded-full overflow-hidden">
        <div id="loading-bar" class="h-full bg-gradient-primary w-0 transition-all duration-300"></div>
    </div>
</div>

<!-- Welcome Screen -->
<div id="welcome-screen" class="fixed inset-0 z-40 hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-purple-100 via-pink-100 to-white opacity-95"></div>
    <div class="relative z-10 flex flex-col items-center justify-center h-full px-4">
        <div class="text-center mb-12 animate-float">
            <h1 class="text-6xl md:text-8xl font-bold text-gradient mb-4">CircleOS</h1>
            <p class="text-2xl text-primary font-light">Version 1.0</p>
            <p class="text-gray-600 mt-4 max-w-md mx-auto">Experience the next generation of operating system with beautiful purple and pink themes</p>
        </div>

        <div class="bg-white/80 backdrop-blur-md rounded-2xl p-8 w-full max-w-md border border-purple-100 shadow-lg">
            <h2 class="text-2xl font-bold text-center mb-6 text-gradient">Welcome</h2>
            <p class="text-gray-600 text-center mb-8">Click the button below to start your CircleOS journey</p>
            <button id="start-button" class="w-full py-4 px-6 bg-gradient-primary text-white rounded-xl font-semibold text-lg hover:opacity-90 transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-primary/50">
                Start CircleOS
            </button>
        </div>

        <!-- Version indicator (click to bypass) -->
        <div id="version-info" class="absolute bottom-4 left-4 text-sm text-gray-500 cursor-pointer hover:text-primary transition-colors" title="Click to enter desktop">
            CircleOS v1.0
        </div>
    </div>
</div>

<!-- Setup Wizard -->
<div id="setup-wizard" class="fixed inset-0 z-30 hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-purple-100 via-pink-100 to-white opacity-95"></div>
    <div class="relative z-10 flex flex-col items-center justify-center h-full px-4">
        <div class="bg-white/90 backdrop-blur-md rounded-2xl p-8 w-full max-w-md border border-purple-100 shadow-lg">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gradient mb-2">Setup Wizard</h1>
                <p class="text-gray-600" id="setup-step-indicator">Step 1/3</p>
            </div>

            <!-- Progress bar -->
            <div class="w-full h-2 bg-gray-800 rounded-full mb-8 overflow-hidden">
                <div id="setup-progress-bar" class="h-full bg-gradient-primary w-0 transition-all duration-500"></div>
            </div>

            <!-- Step 1: PIN Setup -->
            <div id="setup-step-1" class="setup-step active">
                <h2 class="text-xl font-semibold mb-6 text-center">Create Your PIN</h2>
                <p class="text-gray-600 text-center mb-6">Enter a 4-digit PIN to secure your system</p>

                <div class="flex justify-center mb-6">
                    <input type="password" id="single-pin-input" placeholder="Enter 4-digit PIN" maxlength="4"
                           class="w-48 px-4 py-3 text-center text-xl bg-white border border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all">
                </div>

                <div class="text-center">
                    <button id="next-step-1" class="py-3 px-8 bg-gradient-primary text-white rounded-xl font-semibold hover:opacity-90 transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-primary/50">
                        Continue
                    </button>
                </div>
            </div>

            <!-- Step 2: Theme Selection -->
            <div id="setup-step-2" class="setup-step hidden">
                <h2 class="text-xl font-semibold mb-6 text-center">Choose Your Theme</h2>
                <p class="text-gray-600 text-center mb-6">Select your preferred color theme</p>

                <div class="grid grid-cols-2 gap-4 mb-6">
                    <div class="theme-option cursor-pointer p-4 rounded-xl border-2 border-transparent hover:border-primary/50 transition-all" data-theme="purple-pink">
                        <div class="w-full h-20 bg-gradient-to-br from-primary to-secondary rounded-lg mb-3"></div>
                        <p class="text-center font-medium">Purple Pink</p>
                        <p class="text-center text-sm text-gray-400">Default</p>
                    </div>
                    <div class="theme-option cursor-pointer p-4 rounded-xl border-2 border-transparent hover:border-primary/50 transition-all" data-theme="blue-purple">
                        <div class="w-full h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg mb-3"></div>
                        <p class="text-center font-medium">Blue Purple</p>
                        <p class="text-center text-sm text-gray-400">Cool</p>
                    </div>
                    <div class="theme-option cursor-pointer p-4 rounded-xl border-2 border-transparent hover:border-primary/50 transition-all" data-theme="pink-red">
                        <div class="w-full h-20 bg-gradient-to-br from-pink-500 to-red-500 rounded-lg mb-3"></div>
                        <p class="text-center font-medium">Pink Red</p>
                        <p class="text-center text-sm text-gray-400">Warm</p>
                    </div>
                    <div class="theme-option cursor-pointer p-4 rounded-xl border-2 border-transparent hover:border-primary/50 transition-all" data-theme="green-teal">
                        <div class="w-full h-20 bg-gradient-to-br from-green-500 to-teal-400 rounded-lg mb-3"></div>
                        <p class="text-center font-medium">Green Teal</p>
                        <p class="text-center text-sm text-gray-400">Nature</p>
                    </div>
                </div>

                <div class="flex justify-between">
                    <button id="prev-step-2" class="py-3 px-6 bg-gray-700 text-white rounded-xl font-semibold hover:bg-gray-600 transition-all focus:outline-none focus:ring-2 focus:ring-gray-500/50">
                        Back
                    </button>
                    <button id="next-step-2" class="py-3 px-8 bg-gradient-primary text-white rounded-xl font-semibold hover:opacity-90 transition-all focus:outline-none focus:ring-2 focus:ring-primary/50" disabled>
                        Continue
                    </button>
                </div>
            </div>

            <!-- Step 3: Finish Setup -->
            <div id="setup-step-3" class="setup-step hidden">
                <h2 class="text-xl font-semibold mb-6 text-center">Setup Complete!</h2>
                <p class="text-gray-600 text-center mb-8">Your CircleOS v1 is ready to use</p>

                <div class="text-center mb-8">
                    <div class="w-20 h-20 mx-auto bg-gradient-primary rounded-full flex items-center justify-center mb-4">
                        <i class="fa fa-check text-3xl text-white"></i>
                    </div>
                    <p class="text-gray-400">All settings have been configured</p>
                </div>

                <div class="text-center">
                    <button id="finish-setup" class="py-3 px-8 bg-gradient-primary text-white rounded-xl font-semibold hover:opacity-90 transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-primary/50">
                        Start Using CircleOS
                    </button>
                </div>
            </div>
        </div>

        <!-- Version indicator -->
        <div id="setup-version-info" class="absolute bottom-4 left-4 text-sm text-gray-500 cursor-pointer hover:text-primary transition-colors" title="Click to bypass setup">
            CircleOS v1.0
        </div>
    </div>
</div>

<!-- Desktop Interface -->
<div id="desktop" class="fixed inset-0 z-20 hidden">
    <!-- Background with enhanced streamline design -->
    <div id="desktop-background" class="absolute inset-0 bg-gradient-to-br from-purple-50 via-pink-50 to-white overflow-hidden">
        <!-- Advanced streamline design elements -->
        <div class="absolute top-0 left-0 w-full h-full">
            <!-- Primary flowing streamline shapes -->
            <div class="absolute top-1/4 left-1/4 w-[40rem] h-[40rem] bg-gradient-to-r from-primary/10 to-secondary/10 rounded-full blur-[6rem] animate-pulse-slow"></div>
            <div class="absolute bottom-1/4 right-1/4 w-[32rem] h-[32rem] bg-gradient-to-r from-secondary/10 to-primary/10 rounded-full blur-[5rem] animate-pulse-slow" style="animation-delay: 1s;"></div>

            <!-- Secondary flowing elements -->
            <div class="absolute top-1/3 right-1/3 w-[28rem] h-[28rem] bg-gradient-to-r from-primary/8 to-secondary/8 rounded-full blur-[4rem] animate-pulse-slow" style="animation-delay: 0.5s;"></div>
            <div class="absolute bottom-1/3 left-1/3 w-[24rem] h-[24rem] bg-gradient-to-r from-secondary/8 to-primary/8 rounded-full blur-[4rem] animate-pulse-slow" style="animation-delay: 1.5s;"></div>

            <!-- Tertiary flowing elements -->
            <div class="absolute top-1/2 left-1/2 w-[20rem] h-[20rem] bg-gradient-to-r from-primary/5 to-secondary/5 rounded-full blur-[3rem] animate-pulse-slow" style="animation-delay: 2s;"></div>
            <div class="absolute top-1/4 right-1/4 w-[16rem] h-[16rem] bg-gradient-to-r from-secondary/5 to-primary/5 rounded-full blur-[3rem] animate-pulse-slow" style="animation-delay: 2.5s;"></div>

            <!-- Dynamic streamline paths -->
            <div class="absolute top-0 left-0 w-full h-full overflow-hidden">
                <div class="absolute top-1/5 left-1/5 w-[30rem] h-[30rem] border-2 border-primary/10 rounded-full animate-[spin_30s_linear_infinite]"></div>
                <div class="absolute top-1/4 left-1/4 w-[25rem] h-[25rem] border border-secondary/10 rounded-full animate-[spin_40s_linear_infinite_reverse]"></div>
                <div class="absolute top-1/3 left-1/3 w-[20rem] h-[20rem] border border-primary/5 rounded-full animate-[spin_50s_linear_infinite]"></div>
            </div>
        </div>
        <div id="particles-container" class="absolute inset-0"></div>
    </div>

    <!-- Taskbar -->
    <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white rounded-full z-10 shadow-lg border border-gray-200">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-center h-14 space-x-2">
                <!-- App icons -->
                <div class="flex items-center space-x-1">
                    <button class="taskbar-icon w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors relative" data-app="browser">
                        <i class="fa fa-globe text-blue-500 text-lg"></i>
                    </button>
                    <button class="taskbar-icon w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors relative" data-app="files">
                        <i class="fa fa-folder text-yellow-500 text-lg"></i>
                    </button>
                    <button class="taskbar-icon w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors relative" data-app="notes">
                        <i class="fa fa-sticky-note text-green-500 text-lg"></i>
                    </button>
                    <button class="taskbar-icon w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors relative" data-app="calculator">
                        <i class="fa fa-calculator text-purple-500 text-lg"></i>
                    </button>
                    <button class="taskbar-icon w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors relative" data-app="clock">
                        <i class="fa fa-clock-o text-pink-500 text-lg"></i>
                    </button>
                    <button class="taskbar-icon w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors relative" data-app="settings">
                        <i class="fa fa-cog text-gray-500 text-lg"></i>
                    </button>
                </div>

                <!-- Lock button -->
                <div class="flex items-center space-x-1">
                    <button id="lock-button" class="w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors">
                        <i class="fa fa-lock text-gray-600 text-lg"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Start Menu -->
    <div id="start-menu" class="fixed bottom-16 left-4 glass-dark rounded-2xl p-4 w-80 border border-white/10 hidden z-20">
        <div class="flex items-center space-x-3 mb-4 pb-3 border-b border-white/10">
            <div class="w-10 h-10 bg-gradient-primary rounded-lg flex items-center justify-center">
                <i class="fa fa-circle text-white"></i>
            </div>
            <div>
                <h3 class="font-semibold">CircleOS v1.0</h3>
                <p class="text-sm text-gray-400">Welcome, User</p>
            </div>
        </div>

        <div class="space-y-2 mb-4">
            <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-white/10 transition-colors">
                <i class="fa fa-home w-6 text-center text-primary"></i>
                <span>Home</span>
            </button>
            <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-white/10 transition-colors">
                <i class="fa fa-globe w-6 text-center text-blue-400"></i>
                <span>Browser</span>
            </button>
            <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-white/10 transition-colors">
                <i class="fa fa-folder w-6 text-center text-yellow-400"></i>
                <span>Files</span>
            </button>
            <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-white/10 transition-colors">
                <i class="fa fa-sticky-note w-6 text-center text-green-400"></i>
                <span>Notes</span>
            </button>
            <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-white/10 transition-colors">
                <i class="fa fa-cog w-6 text-center text-gray-400"></i>
                <span>Settings</span>
            </button>
        </div>

        <div class="border-t border-white/10 pt-3">
            <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-white/10 transition-colors text-red-400">
                <i class="fa fa-power-off w-6 text-center"></i>
                <span>Shut Down</span>
            </button>
        </div>
    </div>

    <!-- Desktop Icons - Hidden as per user request -->
    <div id="desktop-icons" class="hidden">
        <!-- Desktop icons are now moved to taskbar -->
    </div>
</div>

<!-- Lock Screen -->
<div id="lock-screen" class="fixed inset-0 z-30 hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-purple-100 via-pink-100 to-white opacity-95"></div>
    <div class="relative z-10 flex flex-col items-center justify-center h-full px-4">
        <div class="text-center mb-12">
            <h1 class="text-4xl font-bold text-gradient mb-2">CircleOS</h1>
            <p class="text-xl text-primary">Locked</p>
        </div>

        <div class="bg-white/90 backdrop-blur-md rounded-2xl p-8 w-full max-w-md border border-purple-100 shadow-lg">
            <div class="text-center mb-6">
                <div class="w-20 h-20 mx-auto bg-gradient-primary rounded-full flex items-center justify-center mb-4">
                    <span class="font-medium text-xl text-white">U</span>
                </div>
                <h3 class="text-xl font-semibold text-gray-800">User</h3>
                <p class="text-gray-600">Enter your PIN to unlock</p>
            </div>

            <div class="flex justify-center mb-6">
                <input type="password" id="single-lock-pin-input" placeholder="Enter PIN" maxlength="4"
                       class="w-48 px-4 py-3 text-center text-xl bg-white border border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all">
            </div>

            <p id="lock-error" class="text-center text-red-500 hidden">Invalid PIN. Please try again.</p>
        </div>
    </div>
</div>

<!-- App Windows -->
<!-- Browser App -->
<div id="browser-app" class="app-window fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-3/4 max-w-4xl h-3/4 bg-white rounded-2xl border border-purple-100 shadow-lg hidden z-15">
    <div class="app-header flex items-center justify-between p-4 border-b border-purple-100 bg-white">
        <div class="flex items-center space-x-3">
            <i class="fa fa-globe text-blue-500 text-xl"></i>
            <h3 class="font-semibold text-gray-800">Browser</h3>
        </div>
        <div class="flex items-center space-x-2">
            <button class="app-minimize w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/10 transition-colors">
                <i class="fa fa-minus"></i>
            </button>
            <button class="app-close w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/10 transition-colors">
                <i class="fa fa-times"></i>
            </button>
        </div>
    </div>
    <div class="app-content p-4 h-[calc(100%-60px)] overflow-auto bg-white">
        <div class="bg-gray-50 rounded-lg p-6 mb-4">
            <div class="flex items-center space-x-2 mb-4">
                <i class="fa fa-search text-gray-400"></i>
                <input type="text" placeholder="Search or enter URL" class="bg-transparent border-none outline-none flex-1 text-gray-800">
                <button class="px-4 py-2 bg-gradient-primary rounded-lg text-white text-sm">Go</button>
            </div>
        </div>

        <div class="space-y-4">
            <div class="bg-gray-50 rounded-lg p-6">
                <h2 class="text-2xl font-bold mb-4 text-gradient">Welcome to CircleOS Browser</h2>
                <p class="text-gray-600 mb-4">This is a simulated web browser interface with beautiful purple and pink themes.</p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div class="bg-white rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer shadow-sm">
                        <h3 class="font-semibold mb-2 text-gray-800">CircleOS Homepage</h3>
                        <p class="text-sm text-gray-600">Official website</p>
                    </div>
                    <div class="bg-white rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer shadow-sm">
                        <h3 class="font-semibold mb-2 text-gray-800">App Store</h3>
                        <p class="text-sm text-gray-600">Download apps</p>
                    </div>
                </div>

                <div class="bg-gradient-to-r from-primary/10 to-secondary/10 rounded-lg p-4">
                    <p class="text-center text-sm text-gray-700">üîç Search the web or visit your favorite websites</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Files App -->
<div id="files-app" class="app-window fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-3/4 max-w-4xl h-3/4 bg-white rounded-2xl border border-purple-100 shadow-lg hidden z-15">
    <div class="app-header flex items-center justify-between p-4 border-b border-purple-100 bg-white">
        <div class="flex items-center space-x-3">
            <i class="fa fa-folder text-yellow-500 text-xl"></i>
            <h3 class="font-semibold text-gray-800">Files</h3>
        </div>
        <div class="flex items-center space-x-2">
            <button class="app-minimize w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/10 transition-colors">
                <i class="fa fa-minus"></i>
            </button>
            <button class="app-close w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/10 transition-colors">
                <i class="fa fa-times"></i>
            </button>
        </div>
    </div>
    <div class="app-content p-4 h-[calc(100%-60px)] overflow-auto bg-white">
        <div class="flex items-center space-x-3 mb-6">
            <button class="px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors text-gray-800">
                <i class="fa fa-arrow-left mr-2"></i> Back
            </button>
            <button class="px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors text-gray-800">
                <i class="fa fa-plus mr-2"></i> New
            </button>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            <div class="bg-white rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer shadow-sm">
                <div class="flex items-center space-x-3 mb-2">
                    <i class="fa fa-folder text-yellow-500 text-xl"></i>
                    <h3 class="font-semibold text-gray-800">Documents</h3>
                </div>
                <p class="text-sm text-gray-600">Your documents folder</p>
            </div>

            <div class="bg-white rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer shadow-sm">
                <div class="flex items-center space-x-3 mb-2">
                    <i class="fa fa-picture-o text-green-500 text-xl"></i>
                    <h3 class="font-semibold text-gray-800">Pictures</h3>
                </div>
                <p class="text-sm text-gray-600">Your photos and images</p>
            </div>

            <div class="bg-white rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer shadow-sm">
                <div class="flex items-center space-x-3 mb-2">
                    <i class="fa fa-music text-purple-500 text-xl"></i>
                    <h3 class="font-semibold text-gray-800">Music</h3>
                </div>
                <p class="text-sm text-gray-600">Your music collection</p>
            </div>

            <div class="bg-white rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer shadow-sm">
                <div class="flex items-center space-x-3 mb-2">
                    <i class="fa fa-file-text-o text-blue-500 text-xl"></i>
                    <h3 class="font-semibold text-gray-800">notes.txt</h3>
                </div>
                <p class="text-sm text-gray-600">Text Document ‚Ä¢ 2 KB</p>
            </div>

            <div class="bg-white rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer shadow-sm">
                <div class="flex items-center space-x-3 mb-2">
                    <i class="fa fa-file-image-o text-pink-500 text-xl"></i>
                    <h3 class="font-semibold text-gray-800">wallpaper.jpg</h3>
                </div>
                <p class="text-sm text-gray-600">Image ‚Ä¢ 1.2 MB</p>
            </div>
        </div>
    </div>
</div>

<!-- Notes App -->
<div id="notes-app" class="app-window fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-3/4 max-w-2xl h-3/4 bg-white rounded-2xl border border-purple-100 shadow-lg hidden z-15">
    <div class="app-header flex items-center justify-between p-4 border-b border-purple-100 bg-white">
        <div class="flex items-center space-x-3">
            <i class="fa fa-sticky-note text-green-500 text-xl"></i>
            <h3 class="font-semibold text-gray-800">Notes</h3>
        </div>
        <div class="flex items-center space-x-2">
            <button class="app-minimize w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors text-gray-800">
                <i class="fa fa-minus"></i>
            </button>
            <button class="app-close w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors text-gray-800">
                <i class="fa fa-times"></i>
            </button>
        </div>
    </div>
    <div class="app-content p-4 h-[calc(100%-60px)] overflow-auto bg-white">
        <div class="flex items-center space-x-3 mb-6">
            <button id="new-note-btn" class="px-4 py-2 bg-gradient-primary rounded-lg hover:opacity-90 transition-colors text-white">
                <i class="fa fa-plus mr-2"></i> New Note
            </button>
        </div>

        <div id="notes-container" class="space-y-4">
            <div class="bg-gray-50 rounded-lg p-4 border-l-4 border-primary shadow-sm">
                <div class="flex items-center justify-between mb-2">
                    <h3 class="font-semibold text-lg text-gray-800">Welcome Note</h3>
                    <span class="text-xs text-gray-600">Today</span>
                </div>
                <p class="text-gray-700">Welcome to CircleOS v1! This is your first note. You can create, edit, and delete notes here.</p>
            </div>

            <div class="bg-gray-50 rounded-lg p-4 border-l-4 border-secondary shadow-sm">
                <div class="flex items-center justify-between mb-2">
                    <h3 class="font-semibold text-lg text-gray-800">PIN Reminder</h3>
                    <span class="text-xs text-gray-600">Today</span>
                </div>
                <p class="text-gray-700">Remember to keep your PIN secure. This is for demonstration purposes only.</p>
            </div>
        </div>
    </div>
</div>

<!-- Settings App -->
<div id="settings-app" class="app-window fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-3/4 max-w-3xl h-3/4 bg-white rounded-2xl border border-purple-100 shadow-lg hidden z-15">
    <div class="app-header flex items-center justify-between p-4 border-b border-white/10">
        <div class="flex items-center space-x-3">
            <i class="fa fa-cog text-gray-400 text-xl"></i>
            <h3 class="font-semibold">Settings</h3>
        </div>
        <div class="flex items-center space-x-2">
            <button class="app-minimize w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/10 transition-colors">
                <i class="fa fa-minus"></i>
            </button>
            <button class="app-close w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/10 transition-colors">
                <i class="fa fa-times"></i>
            </button>
        </div>
    </div>
    <div class="app-content p-4 h-[calc(100%-60px)] overflow-auto">
        <div class="space-y-6">
            <div class="bg-white/5 rounded-lg p-6">
                <h2 class="text-xl font-semibold mb-4 text-gradient">Personalization</h2>

                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium mb-2">Theme</label>
                        <select class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary/50">
                            <option>Purple Pink (Default)</option>
                            <option>Blue Purple</option>
                            <option>Pink Red</option>
                            <option>Green Teal</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium mb-2">Background</label>
                        <div class="grid grid-cols-4 gap-3">
                            <div class="w-16 h-16 bg-gradient-to-br from-primary to-secondary rounded-lg cursor-pointer border-2 border-primary"></div>
                            <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg cursor-pointer hover:border-2 hover:border-primary/50 transition-all"></div>
                            <div class="w-16 h-16 bg-gradient-to-br from-pink-500 to-red-500 rounded-lg cursor-pointer hover:border-2 hover:border-primary/50 transition-all"></div>
                            <div class="w-16 h-16 bg-gradient-to-br from-green-500 to-teal-400 rounded-lg cursor-pointer hover:border-2 hover:border-primary/50 transition-all"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-white/5 rounded-lg p-6">
                <h2 class="text-xl font-semibold mb-4 text-gradient">Security</h2>

                <div class="space-y-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-medium">PIN Protection</h3>
                            <p class="text-sm text-gray-400">Enable PIN lock</p>
                        </div>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" class="sr-only peer" checked>
                            <div class="w-11 h-6 bg-white/20 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                        </label>
                    </div>

                    <button class="w-full bg-white/10 hover:bg-white/20 transition-colors rounded-lg px-4 py-2 text-left">
                        <span class="font-medium">Change PIN</span>
                    </button>
                </div>
            </div>

            <div class="bg-white/5 rounded-lg p-6">
                <h2 class="text-xl font-semibold mb-4 text-gradient">About</h2>

                <div class="space-y-2">
                    <p><strong>OS Version:</strong> CircleOS v7.0</p>
                    <p><strong>Build:</strong> 2025.12.11</p>
                    <p><strong>Theme:</strong> Purple Pink</p>
                    <p><strong>Status:</strong> Running</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Calculator App -->
<div id="calculator-app" class="app-window fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-[600px] glass-dark rounded-2xl border border-white/10 hidden z-15 app-shadow">
    <div class="app-header flex items-center justify-between p-4 border-b border-white/10">
        <div class="flex items-center space-x-3">
            <i class="fa fa-calculator text-purple-400 text-xl"></i>
            <h3 class="font-semibold">Calculator</h3>
        </div>
        <div class="flex items-center space-x-2">
            <button class="app-minimize w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/10 transition-colors">
                <i class="fa fa-minus"></i>
            </button>
            <button class="app-close w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/10 transition-colors">
                <i class="fa fa-times"></i>
            </button>
        </div>
    </div>
    <div class="app-content p-6 h-[calc(100%-60px)] flex flex-col">
        <div class="bg-white/5 rounded-lg p-4 mb-6">
            <input type="text" id="calc-display" class="w-full bg-transparent border-none outline-none text-right text-3xl font-mono" readonly>
        </div>

        <div class="grid grid-cols-4 gap-3 flex-1">
            <button class="calc-btn bg-white/10 hover:bg-white/20 transition-colors rounded-xl text-xl py-4" data-value="C">C</button>
            <button class="calc-btn bg-white/10 hover:bg-white/20 transition-colors rounded-xl text-xl py-4" data-value="¬±">¬±</button>
            <button class="calc-btn bg-white/10 hover:bg-white/20 transition-colors rounded-xl text-xl py-4" data-value="%">%</button>
            <button class="calc-btn bg-primary/20 hover:bg-primary/30 transition-colors rounded-xl text-xl py-4 text-primary" data-value="/">√∑</button>

            <button class="calc-btn bg-white/5 hover:bg-white/10 transition-colors rounded-xl text-xl py-4" data-value="7">7</button>
            <button class="calc-btn bg-white/5 hover:bg-white/10 transition-colors rounded-xl text-xl py-4" data-value="8">8</button>
            <button class="calc-btn bg-white/5 hover:bg-white/10 transition-colors rounded-xl text-xl py-4" data-value="9">9</button>
            <button class="calc-btn bg-primary/20 hover:bg-primary/30 transition-colors rounded-xl text-xl py-4 text-primary" data-value="*">√ó</button>

            <button class="calc-btn bg-white/5 hover:bg-white/10 transition-colors rounded-xl text-xl py-4" data-value="4">4</button>
            <button class="calc-btn bg-white/5 hover:bg-white/10 transition-colors rounded-xl text-xl py-4" data-value="5">5</button>
            <button class="calc-btn bg-white/5 hover:bg-white/10 transition-colors rounded-xl text-xl py-4" data-value="6">6</button>
            <button class="calc-btn bg-primary/20 hover:bg-primary/30 transition-colors rounded-xl text-xl py-4 text-primary" data-value="-">‚àí</button>

            <button class="calc-btn bg-white/5 hover:bg-white/10 transition-colors rounded-xl text-xl py-4" data-value="1">1</button>
            <button class="calc-btn bg-white/5 hover:bg-white/10 transition-colors rounded-xl text-xl py-4" data-value="2">2</button>
            <button class="calc-btn bg-white/5 hover:bg-white/10 transition-colors rounded-xl text-xl py-4" data-value="3">3</button>
            <button class="calc-btn bg-primary/20 hover:bg-primary/30 transition-colors rounded-xl text-xl py-4 text-primary" data-value="+">+</button>

            <button class="calc-btn bg-white/5 hover:bg-white/10 transition-colors rounded-xl text-xl py-4 col-span-2" data-value="0">0</button>
            <button class="calc-btn bg-white/5 hover:bg-white/10 transition-colors rounded-xl text-xl py-4" data-value=".">.</button>
            <button class="calc-btn bg-gradient-primary hover:opacity-90 transition-colors rounded-xl text-xl py-4" data-value="=">=</button>
        </div>
    </div>
</div>

<!-- Clock App -->
<div id="clock-app" class="app-window fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white rounded-2xl border border-purple-100 shadow-lg hidden z-15">
    <div class="app-header flex items-center justify-between p-4 border-b border-purple-100 bg-white">
        <div class="flex items-center space-x-3">
            <i class="fa fa-clock-o text-pink-500 text-xl"></i>
            <h3 class="font-semibold text-gray-800">Clock</h3>
        </div>
        <div class="flex items-center space-x-2">
            <button class="app-minimize w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/10 transition-colors">
                <i class="fa fa-minus"></i>
            </button>
            <button class="app-close w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/10 transition-colors">
                <i class="fa fa-times"></i>
            </button>
        </div>
    </div>
    <div class="app-content p-6 h-[calc(100%-60px)] flex flex-col items-center justify-center">
        <div class="relative w-48 h-48 mb-6">
            <div class="absolute inset-0 border-4 border-white/20 rounded-full"></div>
            <div class="absolute inset-0 flex items-center justify-center">
                <div class="w-4 h-4 bg-gradient-primary rounded-full"></div>
            </div>
            <div id="hour-hand" class="absolute top-1/2 left-1/2 w-1 h-16 bg-white/80 origin-bottom transform -translate-x-1/2 -translate-y-full rounded-full"></div>
            <div id="minute-hand" class="absolute top-1/2 left-1/2 w-1 h-20 bg-white/90 origin-bottom transform -translate-x-1/2 -translate-y-full rounded-full"></div>
            <div id="second-hand" class="absolute top-1/2 left-1/2 w-0.5 h-22 bg-primary origin-bottom transform -translate-x-1/2 -translate-y-full rounded-full"></div>

            <!-- Clock numbers -->
            <div class="absolute top-2 left-1/2 transform -translate-x-1/2 font-semibold">12</div>
            <div class="absolute top-1/2 right-2 transform -translate-y-1/2 font-semibold">3</div>
            <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 font-semibold">6</div>
            <div class="absolute top-1/2 left-2 transform -translate-y-1/2 font-semibold">9</div>
        </div>

        <div class="text-center">
            <div id="current-time" class="text-2xl font-mono font-semibold text-gradient"></div>
            <div id="current-date" class="text-sm text-gray-400 mt-1"></div>
        </div>
    </div>
</div>

<script>
    class CircleOS {
        constructor() {
            this.currentStep = 1;
            this.selectedTheme = 'purple-pink';
            this.isSetupComplete = false;
            this.isLocked = false;
            this.calculator = {
                display: '',
                operator: null,
                previousValue: null,
                waitingForOperand: false
            };

            this.init();
        }

        init() {
            console.log('Initializing CircleOS v7.0...');
            this.setupEventListeners();
            this.startLoadingSequence();
            this.setupCalculator();
            this.updateClock();
            setInterval(() => this.updateClock(), 1000);
        }

        startLoadingSequence() {
            let progress = 0;
            const loadingBar = document.getElementById('loading-bar');

            const loadingInterval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(loadingInterval);

                    setTimeout(() => {
                        document.getElementById('loading-screen').classList.add('hidden');
                        document.getElementById('welcome-screen').classList.remove('hidden');
                    }, 500);
                }
                loadingBar.style.width = progress + '%';
            }, 200);
        }

        setupEventListeners() {
            // Welcome screen
            document.getElementById('start-button').addEventListener('click', () => {
                document.getElementById('welcome-screen').classList.add('hidden');
                document.getElementById('setup-wizard').classList.remove('hidden');
                this.setupPinInput();
            });

            // Version indicator bypass
            document.getElementById('version-info').addEventListener('click', () => {
                this.forceBypassSetup();
            });

            document.getElementById('setup-version-info').addEventListener('click', () => {
                this.forceBypassSetup();
            });

            // Setup wizard navigation
            document.getElementById('next-step-1').addEventListener('click', () => {
                this.validateAndProceedToStep(2);
            });

            document.getElementById('prev-step-2').addEventListener('click', () => {
                this.goToStep(1);
            });

            document.getElementById('next-step-2').addEventListener('click', () => {
                this.goToStep(3);
            });

            document.getElementById('finish-setup').addEventListener('click', () => {
                this.completeSetup();
            });

            // Theme selection
            document.querySelectorAll('.theme-option').forEach(option => {
                option.addEventListener('click', () => {
                    document.querySelectorAll('.theme-option').forEach(opt => {
                        opt.classList.remove('border-primary');
                        opt.classList.add('border-transparent');
                    });
                    option.classList.remove('border-transparent');
                    option.classList.add('border-primary');
                    this.selectedTheme = option.dataset.theme;
                    document.getElementById('next-step-2').disabled = false;
                });
            });

            // Taskbar
            document.getElementById('start-button-taskbar').addEventListener('click', () => {
                const startMenu = document.getElementById('start-menu');
                startMenu.classList.toggle('hidden');
            });

            document.getElementById('lock-button').addEventListener('click', () => {
                this.lockSystem();
            });

            // Desktop icons and taskbar icons
            document.querySelectorAll('.desktop-icon, .taskbar-icon').forEach(icon => {
                icon.addEventListener('click', () => {
                    const app = icon.dataset.app;
                    this.openApp(app);
                });
            });

            // App window controls
            document.querySelectorAll('.app-close').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const appWindow = e.target.closest('.app-window');
                    appWindow.classList.add('hidden');
                });
            });

            document.querySelectorAll('.app-minimize').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const appWindow = e.target.closest('.app-window');
                    appWindow.classList.add('hidden');
                });
            });

            // Notes app
            document.getElementById('new-note-btn').addEventListener('click', () => {
                this.createNewNote();
            });

            // Lock screen PIN input
            this.setupLockPinInput();

            // Click outside to close start menu
            document.addEventListener('click', (e) => {
                const startMenu = document.getElementById('start-menu');
                const startButton = document.getElementById('start-button-taskbar');
                if (!startMenu.contains(e.target) && !startButton.contains(e.target)) {
                    startMenu.classList.add('hidden');
                }
            });
        }

        setupPinInput() {
            const pinInput = document.getElementById('single-pin-input');
            if (pinInput) {
                pinInput.addEventListener('input', () => {
                    if (pinInput.value.length === 4) {
                        this.validateAndProceedToStep(2);
                    }
                });

                pinInput.addEventListener('keydown', (e) => {
                    if (!/^\d$/.test(e.key) && e.key !== 'Backspace' && e.key !== 'Delete' &&
                        e.key !== 'ArrowLeft' && e.key !== 'ArrowRight') {
                        e.preventDefault();
                    }

                    if (e.key === 'Enter' && pinInput.value.length === 4) {
                        this.validateAndProceedToStep(2);
                    }
                });

                setTimeout(() => pinInput.focus(), 100);
            }
        }

        setupLockPinInput() {
            const lockPinInput = document.getElementById('single-lock-pin-input');
            if (lockPinInput) {
                lockPinInput.addEventListener('input', () => {
                    if (lockPinInput.value.length === 4) {
                        this.checkPin();
                    }
                });

                lockPinInput.addEventListener('keydown', (e) => {
                    if (!/^\d$/.test(e.key) && e.key !== 'Backspace' && e.key !== 'Delete' &&
                        e.key !== 'ArrowLeft' && e.key !== 'ArrowRight') {
                        e.preventDefault();
                    }

                    if (e.key === 'Enter' && lockPinInput.value.length === 4) {
                        this.checkPin();
                    }
                });
            }
        }

        validateAndProceedToStep(step) {
            if (step === 2) {
                const pinInput = document.getElementById('single-pin-input');
                const pin = pinInput.value.trim();

                if (pin.length === 4 && /^\d+$/.test(pin)) {
                    localStorage.setItem('circleos_pin', btoa(pin));
                    this.goToStep(step);
                } else {
                    this.showPinError();
                }
            }
        }

        showPinError() {
            let errorMsg = document.getElementById('pin-error');
            if (!errorMsg) {
                errorMsg = document.createElement('p');
                errorMsg.id = 'pin-error';
                errorMsg.className = 'text-red-500 text-center text-sm mt-2';
                document.getElementById('single-pin-input').parentNode.appendChild(errorMsg);
            }
            errorMsg.textContent = 'Please enter a 4-digit PIN code';
            errorMsg.style.display = 'block';

            setTimeout(() => {
                errorMsg.style.display = 'none';
            }, 3000);
        }

        goToStep(step) {
            document.querySelectorAll('.setup-step').forEach(s => s.classList.add('hidden'));
            document.getElementById(`setup-step-${step}`).classList.remove('hidden');

            const progressBar = document.getElementById('setup-progress-bar');
            const stepIndicator = document.getElementById('setup-step-indicator');

            if (step === 1) {
                progressBar.style.width = '0%';
                stepIndicator.textContent = 'Step 1/3';
            } else if (step === 2) {
                progressBar.style.width = '33%';
                stepIndicator.textContent = 'Step 2/3';
            } else if (step === 3) {
                progressBar.style.width = '66%';
                stepIndicator.textContent = 'Step 3/3';
            }

            this.currentStep = step;
        }

        completeSetup() {
            localStorage.setItem('circleos_setup_complete', 'true');
            localStorage.setItem('circleos_theme', this.selectedTheme);

            document.getElementById('setup-wizard').classList.add('hidden');
            document.getElementById('desktop').classList.remove('hidden');

            this.isSetupComplete = true;
            this.createParticles();
        }

        forceBypassSetup() {
            // Generate a default PIN for bypass
            const defaultPin = '1234';
            localStorage.setItem('circleos_pin', btoa(defaultPin));
            localStorage.setItem('circleos_setup_complete', 'true');
            localStorage.setItem('circleos_theme', 'purple-pink');

            document.getElementById('welcome-screen').classList.add('hidden');
            document.getElementById('setup-wizard').classList.add('hidden');
            document.getElementById('desktop').classList.remove('hidden');

            this.isSetupComplete = true;
            this.createParticles();
        }

        lockSystem() {
            this.isLocked = true;
            document.getElementById('lock-screen').classList.remove('hidden');
            document.getElementById('single-lock-pin-input').value = '';
            setTimeout(() => {
                document.getElementById('single-lock-pin-input').focus();
            }, 100);
        }

        checkPin() {
            const lockPinInput = document.getElementById('single-lock-pin-input');
            const enteredPin = lockPinInput.value.trim();
            const storedPin = atob(localStorage.getItem('circleos_pin'));

            if (enteredPin === storedPin) {
                this.isLocked = false;
                document.getElementById('lock-screen').classList.add('hidden');
                lockPinInput.value = '';
            } else {
                document.getElementById('lock-error').classList.remove('hidden');
                setTimeout(() => {
                    lockPinInput.value = '';
                    lockPinInput.focus();
                    document.getElementById('lock-error').classList.add('hidden');
                }, 1500);
            }
        }

        openApp(appName) {
            const appWindow = document.getElementById(`${appName}-app`);
            if (appWindow) {
                document.querySelectorAll('.app-window').forEach(window => {
                    window.classList.add('hidden');
                });
                appWindow.classList.remove('hidden');
            }
        }

        createNewNote() {
            const notesContainer = document.getElementById('notes-container');
            const note = document.createElement('div');
            note.className = 'bg-white/5 rounded-lg p-4 border-l-4 border-secondary animate-fadeIn';

            const now = new Date();
            const dateStr = now.toLocaleDateString();

            note.innerHTML = `
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="font-semibold text-lg">New Note</h3>
                        <span class="text-xs text-gray-400">${dateStr}</span>
                    </div>
                    <p class="text-gray-300">Click here to edit this note...</p>
                `;

            notesContainer.insertBefore(note, notesContainer.firstChild);

            // Make note editable
            note.addEventListener('click', () => {
                const text = prompt('Edit note:', note.querySelector('p').textContent);
                if (text !== null) {
                    note.querySelector('p').textContent = text;
                }
            });
        }

        setupCalculator() {
            const display = document.getElementById('calculator-display');
            const buttons = document.querySelectorAll('.calc-btn');

            buttons.forEach(button => {
                button.addEventListener('click', () => {
                    const value = button.dataset.value;
                    this.handleCalculatorInput(value, display);
                });
            });
        }

        handleCalculatorInput(value, display) {
            const { calculator } = this;

            if (/\d/.test(value)) {
                if (calculator.waitingForOperand) {
                    display.value = value;
                    calculator.waitingForOperand = false;
                } else {
                    display.value = display.value === '0' ? value : display.value + value;
                }
            } else if (value === '.') {
                if (calculator.waitingForOperand) {
                    display.value = '0.';
                    calculator.waitingForOperand = false;
                } else if (display.value.indexOf('.') === -1) {
                    display.value += '.';
                }
            } else if (['+', '-', '*', '/'].indexOf(value) > -1) {
                const inputValue = parseFloat(display.value);

                if (calculator.previousValue === null) {
                    calculator.previousValue = inputValue;
                } else if (calculator.operator) {
                    const currentValue = calculator.previousValue || 0;
                    const newValue = this.performCalculation(calculator.operator, currentValue, inputValue);

                    display.value = String(newValue);
                    calculator.previousValue = newValue;
                }

                calculator.waitingForOperand = true;
                calculator.operator = value;
            } else if (value === '=') {
                const inputValue = parseFloat(display.value);

                if (calculator.previousValue !== null && calculator.operator) {
                    const newValue = this.performCalculation(calculator.operator, calculator.previousValue, inputValue);

                    display.value = String(newValue);
                    calculator.previousValue = null;
                    calculator.operator = null;
                    calculator.waitingForOperand = true;
                }
            } else if (value === 'C') {
                display.value = '0';
                calculator.previousValue = null;
                calculator.operator = null;
                calculator.waitingForOperand = false;
            } else if (value === '¬±') {
                display.value = String(parseFloat(display.value) * -1);
            } else if (value === '%') {
                display.value = String(parseFloat(display.value) / 100);
            }
        }

        performCalculation(operator, firstValue, secondValue) {
            switch (operator) {
                case '+':
                    return firstValue + secondValue;
                case '-':
                    return firstValue - secondValue;
                case '*':
                    return firstValue * secondValue;
                case '/':
                    return secondValue !== 0 ? firstValue / secondValue : 'Error';
                default:
                    return secondValue;
            }
        }

        updateClock() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');

            // Update digital clock display
            const digitalClock = document.getElementById('digital-clock');
            if (digitalClock) {
                digitalClock.textContent = `${hours}:${minutes}:${seconds}`;
            }

            // Update date display
            const dateDisplay = document.getElementById('date-display');
            if (dateDisplay) {
                dateDisplay.textContent = now.toLocaleDateString('en-US', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
            }

            // Update clock hands
            const hourHand = document.getElementById('hour-hand');
            const minuteHand = document.getElementById('minute-hand');
            const secondHand = document.getElementById('second-hand');

            const hourDeg = (hours % 12) * 30 + minutes * 0.5;
            const minuteDeg = minutes * 6;
            const secondDeg = seconds * 6;

            hourHand.style.transform = `translate(-50%, -100%) rotate(${hourDeg}deg)`;
            minuteHand.style.transform = `translate(-50%, -100%) rotate(${minuteDeg}deg)`;
            secondHand.style.transform = `translate(-50%, -100%) rotate(${secondDeg}deg)`;
        }

        createParticles() {
            const container = document.getElementById('particles-container');
            const particleCount = 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                const size = Math.random() * 4 + 1;

                particle.style.position = 'absolute';
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                particle.style.background = `rgba(${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 0.5 + 0.3})`;
                particle.style.borderRadius = '50%';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.boxShadow = `0 0 ${size * 2}px ${size}px rgba(${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 0.3})`;

                // Animation
                const duration = Math.random() * 20 + 10;
                const delay = Math.random() * 5;

                particle.style.animation = `float ${duration}s ease-in-out ${delay}s infinite`;

                container.appendChild(particle);
            }
        }
    }

    // Initialize the OS when DOM is loaded
    document.addEventListener('DOMContentLoaded', () => {
        new CircleOS();
    });

    // Add keyboard shortcuts
    document.addEventListener('keydown', (e) => {
        // Ctrl + Shift + B to bypass setup
        if (e.ctrlKey && e.shiftKey && e.key === 'B') {
            e.preventDefault();
            const os = window.circleOS || new CircleOS();
            os.forceBypassSetup();
        }

        // Windows key to toggle start menu
        if (e.key === 'Meta' || e.key === 'Windows') {
            e.preventDefault();
            const startMenu = document.getElementById('start-menu');
            if (startMenu) {
                startMenu.classList.toggle('hidden');
            }
        }

        // L key to lock (when start menu is open)
        if (e.key === 'l' && !document.getElementById('start-menu').classList.contains('hidden')) {
            const os = window.circleOS || new CircleOS();
            os.lockSystem();
        }
    });
</script>
</body>
</html>